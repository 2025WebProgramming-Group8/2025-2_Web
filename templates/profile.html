{% extends 'base.html' %} 
{% block title %}프로필{% endblock %}

{% block header_content %}
    <header class="head">
      <h1 class="title">내 정보</h1>
    </header>
{% endblock %}

{% block content %}
  <style>
      :root{ --bg:#0e0f13; --panel:#161821; --ink:#e9eaf3; --muted:#a4a7b8; --line:#232637; --accent:#93b2ff; --card:#1b1e2a; }
      *{ box-sizing:border-box }
      html,body{ height:100% }
      body{ margin:0; background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif; }
      a{ color:inherit; text-decoration:none }

      /* Page head */
      .head{ max-width:1100px; margin:32px auto 16px; padding:0 20px }
      .title{ font-size:28px; font-weight:900; margin:0 0 10px }
      .subtitle{ font-size:14px; color:var(--muted); margin:0 }

      /* Layout */
      .wrap{ max-width:1100px; margin:16px auto 40px; padding:0 20px; display:grid; grid-template-columns:360px 1fr; gap:16px }
      @media (max-width:900px){ .wrap{ grid-template-columns:1fr } }

      .panel{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:16px }

      /* Profile left */
      .profile{ display:grid; gap:14px }
      .avatar{ width:120px; height:120px; border-radius:999px; background:#2a2f47; border:1px solid var(--line) }
      .row{ display:flex; align-items:center; gap:10px; color:var(--muted) }
      .kv{ display:grid; grid-template-columns:120px 1fr; gap:8px; margin-top:6px }
      .k{ color:var(--muted) }
      .v{ font-weight:700 }

      .stats{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:6px }
      .stat{ background:#161821; border:1px solid var(--line); border-radius:12px; padding:10px; text-align:center }
      .stat b{ display:block; font-size:20px; margin-top:4px }

      .btns{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-top:8px;
    justify-content:flex-start;
  }
  .btn{
    background:#1b1e29;
    border:1px solid var(--line);
    color:var(--ink);
    border-radius:10px;
    padding:10px 14px;
    text-align:center;
    cursor:pointer;
    flex:1 1 auto;
    min-width:110px;
  }
  .btn.primary{
    background:var(--accent);
    color:#0b0c12;
    font-weight:800;
    border:none;
  }
  </style>

    <section class="panel profile" aria-label="프로필">
      <div class="row">
        <div class="avatar" aria-hidden="true"></div>
        <div>
          <div style="font-weight:900; font-size:20px;">
            {{ user.profile.nickname|default:user.username }}
          </div>
          <div style="color:var(--muted)">@{{ user.username }}</div>
        </div>
      </div>
      <div class="kv">
    <div class="k">이메일</div>
    <div class="v">{{ user.email|default:"미등록" }}</div>

    <div class="k">레벨</div>
    <div class="v">Lv. {{ user.profile.level }}</div>

    <div class="k">가입일</div>
    <div class="v">{{ user.date_joined|date:"Y-m-d" }}</div>
</div>
      <div class="stats">
        <div class="stat">
          <span>총 집중시간</span>
          <b>{{ user.profile.total_study_time|default:"0시간 0분" }}</b>
        </div>
      </div>
      <div class="btns">
        <div class="btn">프로필 편집</div>
        <div class="btn">비밀번호 변경</div>
        <a href="{% url 'login' %}" class="btn primary">로그아웃</a>
      </div>
    </section>

    <section class="panel" aria-label="가입된 스터디">
      <div class="studies-head">
        <h2 style="margin:0;font-size:18px">가입된 스터디</h2>
        <a class="btn" href="{% url 'board' %}">+ 새 스터디 찾기</a>
      </div>
      <div class="list">
        <div class="cell left">웹프로그래밍 스터디</div>
        <div class="cell right"><a href="{% url 'timer' group_code='GROUP1' %}">입장</a></div>
        <div class="cell left">알고리즘 스터디</div>
        <div class="cell right"><a href="{% url 'timer' group_code='GROUP2' %}">입장</a></div>
        <div class="cell left">컴퓨터구조 스터디</div>
        <div class="cell right"><a href="{% url 'timer' group_code='GROUP3' %}">입장</a></div>
      </div>
    </section>
{% endblock %}