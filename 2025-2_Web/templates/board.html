{% extends 'base.html' %} 
{% block title %}게시판{% endblock %}

{% block header_content %}
    <header class="head">
        <h1 class="title">게시판</h1>
    </header>
{% endblock %}

{% block content %}
<style>
    :root{ --bg:#0e0f13; --panel:#161821; --ink:#e9eaf3; --muted:#a4a7b8; --line:#232637; --accent:#93b2ff; --card:#1b1e2a; }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{ margin:0; background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif; }
    a{ color:inherit; text-decoration:none }

    /* Page Title */
    .head{ max-width:900px; margin:32px auto 16px; padding:0 20px }
    .title{ font-size:28px; font-weight:900; margin:0 0 10px }

    /* Search */
    .search{ max-width:900px; margin:0 auto 22px; padding:0 20px }
    .search input{ width:100%; background:var(--panel); border:1px solid var(--line); color:var(--ink); border-radius:14px; padding:14px 16px; font-size:15px }
    .search input::placeholder{ color:var(--muted) }

    /* Study list with CTA */
    .list{ max-width:900px; margin:0 auto 40px; padding:0 20px; display:grid; grid-template-columns:1fr 120px; gap:12px }
    .cell{ background:var(--panel); border:1px solid var(--line); border-radius:12px; min-height:46px; display:flex; align-items:center; justify-content:center; padding:10px 14px }
    .cell.name{ justify-content:flex-start; font-weight:700 }
    .cell.cta{ background:#1b1e29; cursor:pointer }
    .cell.cta:hover{ outline:2px solid #2a2f47 }

    /* Create button */
    .create-wrap{ max-width:900px; margin:10px auto 30px; padding:0 20px; display:flex; justify-content:flex-end }
    .create{ background:var(--accent); color:#0b0c12; font-weight:800; border:none; border-radius:14px; padding:12px 16px; cursor:pointer }

    /* Responsive */
    @media (max-width:700px){
      .list{ grid-template-columns:1fr 96px }
    }
  </style>
    <div class="search">
        <form method="get" action="{% url 'board' %}">
            <input 
                type="text" 
                name="q" 
                placeholder="과목명, 그룹명, 목표로 검색" 
                aria-label="스터디 검색"
                value="{{ request.GET.q|default:'' }}"
            />
        </form>
    </div>

    <section class="list" aria-label="스터디 그룹 목록">
        
        {% if groups %}
            {% for group in groups %}
            <div class="cell name">
                [{{ group.subject }}] {{ group.name }}
            </div>
            <div class="cell cta">
                <a href="{% url 'timer' group_code=group.group_code %}">들어가기</a>
            </div>
            {% endfor %}
            
        {% else %}
            <div class="cell name" style="grid-column: 1 / -1; justify-content: center; color: gray;">
                아직 개설된 스터디가 없습니다.
            </div>
        {% endif %}

    </section>

    <div class="create-wrap">
        <a href="{% url 'create_study' %}" class="create" aria-label="스터디 개설하기">스터디 개설하기</a>
    </div>
{% endblock %}